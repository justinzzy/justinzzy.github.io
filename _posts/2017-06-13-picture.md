---
layout: post
title: "图片简介"
describe: "2017-06-13"
date: 2017-06-13
---
## 引言
> 这边给大家介绍些常用的图片格式。


## JPEG
> [*JPEG*](https://zh.wikipedia.org/wiki/JPEG)是一种针对图像的一种有损压缩标准方法，由Joint Photographic Experts Group（联合图像专家小组）开发。JPEG图片以24位颜色存储单个光栅图像，支持最高级别的压缩，不过这种压缩是有损的。

> JPEG文件的扩展名可以是`.jpeg`或`.jpg`，它拥有非常优秀的压缩方法，通过有损压缩方式去除冗余的图像和色彩数据，在获得极高的压缩率的同时展现十分丰富生动的图像。另外可以提高或降低JPEG文件的压缩级别，不过这是以图片质量为代价的，一般压缩级别越高图片质量就越低。JPEG压缩适合处理色彩丰富带有颜色渐变且没有清晰轮廓的图像，如写实的摄影作品，但它不适合处理颜色较少、对比强烈、实心边框或纯色区域较大的简单图像。

* 优点  
非常适合压缩色调及颜色平滑变化的相片和写实绘画，并且可调节压缩比控制文件的大小。

* 缺点  
只支持有损压缩，有损压缩会使图片质量下降，不适合颜色较少对比强烈的简单图片。

|图片|![highest](/resource/img/jpeg_highest.jpg)|![high](/resource/img/jpeg_high.jpg)|![medium](/resource/img/jpeg_medium.jpg)|![low](/resource/img/jpeg_low.jpg)|![lowest](/resource/img/jpeg_lowest.jpg)|
|------|:-----:|:-----:|:-----:|:-----:|:-----:|
|质量|Q = 100|Q = 50|Q = 25|Q = 10|Q = 1|
|大小|81,447|14,679|9,407|4,787|1,523|
|压缩比|2.7:1|15:1|23:1|46:1|144:1|


## GIF
> [*GIF（Graphics Interchange Format）*](https://zh.wikipedia.org/wiki/GIF)是一种位图图形文件格式，以8位色重现真彩色的图像。它采用LZW无损压缩算法进行压缩，只要图像不多于256色，则可减少文件大小的同时保持图片的质量。不过在高彩图片上表现就不如人意，如彩色相片。GIF支持插入多帧的图像，从而实现一些简单的动画，因此尽管在其它方面完全可以被PNG替代，但GIF还是相当受欢迎。

* 优点  
可插入多帧图像实现动画，支持1位的透明色，适合一些简单的图片和动画。

* 缺点  
采用8位压缩，最多只能处理256种颜色，不适合真彩色图片。

|![gif](/resource/img/gif_1.gif)|![gif](/resource/img/gif_1.gif)|![gif](/resource/img/gif_1.gif)|![gif](/resource/img/gif_1.gif)|![gif](/resource/img/gif_1.gif)|

## PNG
> [*PNG（Portable Network Graphics）*](https://zh.wikipedia.org/wiki/PNG)是一种无损压缩的位图图形格式，支持索引、灰度、RGB三种颜色方案以及Alpha通道等特性。最常见的使用格式是256索引色（PNG-8）和24位真彩色（PNG-24），可支持full alpha通道（256级可调半透明色），不支持动画。

> PNG开发旨在改善并取代GIF作为适合网络传输的格式，PNG另一个非正式的名称是“PNG is Not GIF”。PNG只支持无损压缩，所以它的压缩比是有上限的，相对JPEG和GIF来说，它最大的优势在于支持完整的透明通道。

* 优点  
支持256色调色板技术产生小体积文件，最高支持24位真彩色图像及8位灰度图像，支持完整的Alpha透明通道。

* 缺点  
不支持动画。


## APNG
> [*APNG（Animated Portable Network Graphics）*](https://zh.wikipedia.org/wiki/APNG)格式是PNG的位图动画扩展，但未获PNG组织官方认可。APNG对原版PNG保持向下兼容，APNG第一帧为标准PNG图像，剩余动画和帧速等数据放在PNG扩展数据块，因此只支持原版PNG的软件会正确显示第一帧。相比GIF其拥有更高的动画质量。

> APNG由Mozilla的两位程序员Stuart Parmenter和Vladimir Vukićević设计开发，2007年3月23日在Mozilla Firefox 3.0首次支持APNG格式。但APNG一直未获得PNG组织官方的认可，因为PNG组织希望继续推广MNG，但MNG格式过于复杂以至于并没有什么系统或浏览器支持，而APNG格式由于简单容易实现，目前已经渐渐流行开来，Firefox和Safari已经支持APNG，而Chrome也开始尝试支持，APNG的前景很好。

* 结构图  
![apng结构图](/resource/img/apng_assembling.jpg)

* 制作工具  
APNG经过几年的发展它的制作工具已经不向早期那么匮乏，在[*APNG Software*](http://littlesvr.ca/apng/)可以找到相关的软件。  
Windows：[*APNG Assembler*](http://apngasm.sourceforge.net/)  
MacOS：[*APNGb*](https://github.com/mancunianetz/APNGb)

* 优点  
支持动画，支持24位真彩色图片，支持8位Alpha透明通道，向下兼容PNG。

* 缺点  
兼容性稍显不足。

* 兼容性  
[*can i use*](http://caniuse.com/#search=apng)

* APNG VS GIF  
    * GIF  
    最多支持8位256色，色阶过渡糟糕，图片具有颗粒感  
    不支持Alpha透明通道，边缘有杂边
    所有的主流浏览器都支持GIF  
    实现起来简单，制作工具多

    * APNG  
    支持24位真彩色图片  
    支持8位Alpha透明通道  
    向下兼容PNG

|gif|![gif1](/resource/img/spinfox_gif.gif)|![gif2](/resource/img/spinfox_gif.gif)|![gif3](/resource/img/spinfox_gif.gif)|![gif4](/resource/img/spinfox_gif.gif)|![gif5](/resource/img/spinfox_gif.gif)|
|apng|![apng1](/resource/img/spinfox_apng.png)|![apng2](/resource/img/spinfox_apng.png)|![apng3](/resource/img/spinfox_apng.png)|![apng4](/resource/img/spinfox_apng.png)|![apng5](/resource/img/spinfox_apng.png)|


## WebP
> [*WebP*](https://zh.wikipedia.org/wiki/WebP)是一种同时提供有损压缩和无损压缩的图片文件格式，于2010年发布，目标是减少文件大小但达到和JPEG格式相同的图片质量，希望能够减少图片在网络上的发送时间。它支持有损和无损压缩、支持完整的透明通道、也支持多帧动画，并且没有版权问题，是一种非常理想的图片格式。

> 根据Google的测试，无损压缩后的WebP比PNG文件少了45%的文件大小，即使PNG文件经过其他工具压缩WebP还是可以减少28%的文件大小。由于Google在网络世界的影响力，WebP在几年的时间内得到了广泛的应用，很多互联网公司已经纷纷开始使用WebP，如Google、Facebook、淘宝、腾讯等。

> 科技博客Gig‍‍‍aOM曾报道：YouTube 的视频略缩图采用WebP格式后，网页加载速度提升了10%；谷歌的Chrome网上应用商店采用WebP格式图片后，每天可以节省几 TB 的带宽，页面平均加载时间大约减少1/3；Google+移动应用采用WebP图片格式后，每天节省了50TB数据存储空间。

* [*主页*](https://developers.google.com/speed/webp/)

* 制作工具  
[*智图*](http://zhitu.tencent.com/)  
[*iSparta*](http://isparta.github.io/)

* 优点  
更小的图片体积，同时具备有损和无损的压缩模式，支持Alpha透明及动画，在JPEG和PNG上的转化效果很优秀。

* 缺点  
兼容性比较差，目前只有Chrome和Opera支持，解码耗时。

* 兼容性  
[*can i use*](http://caniuse.com/#search=WebP)


## BPG
> [*BPG（Better Portable Graphics）*](https://zh.wikipedia.org/wiki/BPG)格式，是目前已知的最优秀的有损压缩格式了，由著名程序员[*法布里斯·贝拉*](https://zh.wikipedia.org/wiki/%E6%B3%95%E5%B8%83%E9%87%8C%E6%96%AF%C2%B7%E8%B4%9D%E6%8B%89)（Fabrice Bellard）于2014年创建。BPG使用[*HEVC*](https://zh.wikipedia.org/wiki/%E9%AB%98%E6%95%88%E7%8E%87%E8%A7%86%E9%A2%91%E7%BC%96%E7%A0%81)（即 H.265）帧内编码作为算法基础，相对于JP2、JPEG-XR、WebP来说，同等体积下的BPG能提供更高的图像质量。

> BPG目前只有作者发布的[*libbpg*](https://bellard.org/bpg/)可用，作者基于libbpg编译出了一个Javascript解码器，任何浏览器只要加载了这个76KB大小的JS文件就可以直接显示BPG格式的图片了。目前阻碍BPG流行的原因就是HEVC的版权问题和它较长的编码解码时间了。

* 性能比较  
![bpg_bench](/resource/img/bpg_bench.png)  
动图  
![motion_graph_compare](/resource/img/motion_graph_compare.png)

* 优点  
优秀的压缩算法，相同质量下图片更小。

* 缺点  
编码时间长，大约是JPEG的3~5倍，浏览器不支持。

* 图片比较  
![bpg_lena](/resource/img/bpg_lena.png)
更多[*compare click here*](http://xooyoozoo.github.io/yolo-octo-bugfixes/#cologne-cathedral&webp=s&bpg=s)
